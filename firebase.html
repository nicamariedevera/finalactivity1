<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PILIMON FILES</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
</head>

<body style="background-image:url(./img/pilimon.jpg); background-repeat: no-repeat; background-size:cover; width: 100%; height: auto;">
    <style>

nav {
    flex: 1;
    text-align: center;
    font-size: 50px;
}
nav ul li {
    display: inline-block;
    list-style: none;
    margin: 0 15px;
    font-size: 50px;
}
nav ul li a {
    text-decoration: none;
    color: #000000;
    font-family: 'Poppins', sans-serif;
    text-transform: uppercase;
    font-size: 18px;
    font-weight: 600;
}
        
        li a:hover:not(.active) {
          background-color: #b0f00f;
        }       
        .active {
          background-color: #034a91;
        }
        </style>
        </head>
        <body>
        <nav>
          <ul>
            <li><a href="./Home/home.html">Home</a></li>
            <li><a href="./index.html">Table</a></li>
            <li><a href="">Community</a></li>
            <li><a href="">Contact</a></li>
        </ul>
      </nav>
    </style>
    <h1 style="text-align: center; color: rgb(44, 157, 0); font-family: 'Sigmar', cursive;">PILIMON FILES</h1>
    <p>Send your entry!</p>
    <form class="col-sm-6" method="post" id="frmContact">
        <p>
            Username: <input class="form-control form-control-sm" type="text" name="username" id="username" required />
        </p>
        <p>
            Email: <input class="form-control form-control-sm" type="email" name="email" id="email" required />
        </p>
        <p>
            Course: <input class="form-control form-control-sm" type="text" name="course" id="course" />
        </p>
        <p>
            Message: <textarea class="form-control form-control-sm" name="message" id="message"></textarea>
        </p>
        <button class="form-control form-control-sm btn-success" type="submit" name="submit">Submit</button>
    </form>
    
</body>
</html>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";;
  import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";
   
  // Paste the code from Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCa6ImDZmdgodmTAiKlPj2RcRV0aths-Ew",
    authDomain: "activity1-243c3.firebaseapp.com",
    databaseURL: "https://activity1-243c3-default-rtdb.firebaseio.com",
    projectId: "activity1-243c3",
    storageBucket: "activity1-243c3.appspot.com",
    messagingSenderId: "163389094781",
    appId: "1:163389094781:web:c5fc188ca128672b96aa14",
    measurementId: "G-PFD1YZCVVL"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  // Get a reference to the database service
  const db = getDatabase(app);
  
  document.getElementById('frmContact').addEventListener('submit', function(e) {
      e.preventDefault();
      const Studid=Math.random().toString(36).slice(2, 7);
      set(ref(db, 'users/' + Studid ), {
          studno: Studid,  
          username: document.getElementById('username').value,
          email: document.getElementById('email').value,
          course: document.getElementById('course').value,
          message: document.getElementById('message').value
      });
   
      alert('Your form is submitted');
      document.getElementById('frmContact').reset();

    });
  </script>